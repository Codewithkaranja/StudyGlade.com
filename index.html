<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Student Dashboard - StudyGlade</title>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />

    <link rel="stylesheet" href="index.css" />
  </head>

  <body>
    <!-- Navbar -->
    <nav class="navbar">
      <div class="nav-brand">StudyGlade</div>
      <div class="nav-links">
        <a href="#" class="nav-link active">Dashboard</a>
        <a href="tutor.html" class="nav-link">Tutor</a>
        <a href="documents.html" class="nav-link">Documents</a>
        <a href="chat.html" class="nav-link">Chat</a>
        <a href="#" id="logout-btn" class="nav-link">Logout</a>
      </div>
    </nav>

    <div class="container">
      <!-- Dashboard Header -->
      <div class="dashboard-header">
        <h1>Welcome, <span id="student-name">Student</span></h1>
        <p class="header-subtitle">
          Post questions, track progress, and download completed assignments.
        </p>
        <button class="btn-primary" onclick="showQuestionModal()">
          Post New Question
        </button>
      </div>

      <!-- Stats Section -->
      <div class="stats-section">
        <div class="stat-card total">
          <h3>Total Questions</h3>
          <div class="stat-value" id="total-questions">
            <i class="fa-solid fa-clipboard-list"></i> 0
          </div>
        </div>

        <div class="stat-card pending">
          <h3>Pending</h3>
          <div class="stat-value" id="pending-questions">
            <i class="fa-solid fa-hourglass-half fa-spin"></i> 0
          </div>
        </div>

        <div class="stat-card inprogress">
          <h3>In Progress</h3>
          <div class="stat-value" id="inprogress-questions">
            <i class="fa-solid fa-spinner fa-spin"></i> 0
          </div>
        </div>

        <div class="stat-card completed">
          <h3>Completed</h3>
          <div class="stat-value" id="completed-questions">
            <i class="fa-solid fa-circle-check"></i> 0
          </div>
        </div>

        <div class="stat-card subjects">
          <h3>Subjects Covered</h3>
          <div class="stat-value" id="subjects-covered">
            <i class="fa-solid fa-book-open-reader"></i> 0
          </div>
        </div>
      </div>

      <div class="section-title" onclick="showAssignmentsModal()">
        My Assignments <i class="fa-solid fa-table-list"></i>
      </div>

      <!-- CTA Section -->
      <div class="cta-section">
        <h2>Boost Your Learning!</h2>
        <p>
          Explore study materials, upload notes, or post assignments to get
          expert help.
        </p>
        <button
          class="btn-secondary"
          onclick="window.location.href='documents.html'"
        >
          Explore Documents
        </button>
      </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-container">
        <div class="footer-brand">StudyGlade</div>
        <div class="footer-links">
          <a href="#">About</a>
          <a href="#">Support</a>
          <a href="#">Terms</a>
          <a href="#">Privacy</a>
        </div>
        <p>&copy; 2025 StudyGlade. All rights reserved.</p>
      </div>
    </footer>

    <!-- Question Modal -->
    <div id="question-modal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="hideQuestionModal()">&times;</span>
        <h2>Post New Assignment / Question</h2>
        <form id="question-form">
          <div class="form-group">
            <label for="questionTitle">Question Title</label>
            <input
              type="text"
              id="questionTitle"
              name="questionTitle"
              required
            />
          </div>
          <div class="form-group">
            <label for="questionDescription">Detailed Description</label>
            <textarea
              id="questionDescription"
              name="questionDescription"
              rows="4"
              required
            ></textarea>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="questionSubject">Subject</label>
              <input
                type="text"
                id="questionSubject"
                name="questionSubject"
                required
              />
            </div>
            <div class="form-group">
              <label for="questionTopic">Topic</label>
              <input
                type="text"
                id="questionTopic"
                name="questionTopic"
                required
              />
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="questionDeadline">Deadline</label>
              <input
                type="datetime-local"
                id="questionDeadline"
                name="questionDeadline"
                required
              />
            </div>
            <div class="form-group">
              <label for="questionAmountInput">Amount ($)</label>
              <input
                type="number"
                id="questionAmountInput"
                name="questionAmountInput"
                min="1"
                required
              />
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="questionDocument">Attach Document</label>
              <input
                type="file"
                id="questionDocument"
                name="questionDocument"
                accept=".pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx,.txt,.zip,.rar"
              />
            </div>
            <div class="form-group">
              <label for="questionImage">Attach Image</label>
              <input
                type="file"
                id="questionImage"
                name="questionImage"
                accept="image/*"
              />
            </div>
          </div>
          <button type="submit" class="btn-primary">Post Assignment</button>
        </form>
      </div>
    </div>

    <!-- Payment Modal -->
    <div id="payment-modal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="hidePaymentModal()">&times;</span>
        <h2>Complete Payment to Post Assignment</h2>
        <form id="payment-form">
          <div class="form-group">
            <label for="numPagesInput">Number of Pages</label>
            <input
              type="number"
              id="numPagesInput"
              name="numPagesInput"
              min="1"
              required
            />
          </div>
          <div class="form-group">
            <label for="paymentMethod">Payment Method</label>
            <select id="paymentMethod" name="paymentMethod" required>
              <option value="">Select Method</option>
              <option value="mpesa">M-Pesa</option>
              <option value="paypal">PayPal</option>
              <option value="payoneer">Payoneer</option>
              <option value="bank">Bank Transfer</option>
            </select>
          </div>
          <div
            id="bank-details"
            style="
              display: none;
              background: #f9f9f9;
              padding: 10px;
              border-radius: 8px;
              margin-top: 10px;
            "
          >
            <strong>Bank Transfer Details</strong><br />
            Bank: Equity Bank<br />
            Account Name: StudyGlade<br />
            Account Number: 1234567890<br />
            Swift Code: EQBLKENA<br />
            <button type="button" class="btn-primary" id="mark-paid-btn">
              Mark as Paid
            </button>
          </div>
          <div class="form-group">
            <label>Total Amount</label>
            <input type="text" id="total-amount" readonly />
          </div>
          <button type="submit" class="btn-primary">Pay Now</button>
        </form>
      </div>
    </div>

    <!-- Assignments Modal -->
    <div id="assignments-modal" class="modal">
      <div class="modal-content large">
        <span class="close" onclick="hideAssignmentsModal()">&times;</span>
        <h2>ðŸ“š My Assignments</h2>
        <div class="table-container">
          <table class="assignments-table">
            <thead>
              <tr>
                <th>Title</th>
                <th>Subject</th>
                <th>Topic</th>
                <th>Deadline</th>
                <th>Status</th>
                <th>Amount ($)</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="assignments-table-body">
              <!-- Rows added dynamically -->
            </tbody>
          </table>
        </div>
        <!--<p id="details-views">Views: 0</p>-->

        <!-- Pagination -->
        <div class="pagination-container">
          <label for="rowsPerPageSelect">Rows per page:</label>
          <select id="rowsPerPageSelect">
            <option value="5" selected>5</option>
            <option value="10">10</option>
            <option value="20">20</option>
          </select>
          <div id="pagination-controls"></div>
        </div>
      </div>
    </div>

    <!-- Assignment Details Modal -->
    <div id="assignment-details-modal" class="modal">
      <div class="modal-content large">
        <span class="close" onclick="closeDetailsModal()">&times;</span>
        <h2 id="details-title">Assignment Details</h2>
        <div class="details-grid">
          <p><strong>Subject:</strong> <span id="details-subject"></span></p>
          <p><strong>Topic:</strong> <span id="details-topic"></span></p>
          <p><strong>Status:</strong> <span id="details-status"></span></p>
          <p><strong>Deadline:</strong> <span id="details-deadline"></span></p>
          <p><strong>Amount:</strong> $<span id="details-amount"></span></p>
        </div>
        <div class="details-description">
          <h3>Description</h3>
          <p id="details-description"></p>
        </div>
        <div id="details-files">
          <h3>Attached Files</h3>
          <div id="details-file-links"></div>
        </div>
      </div>
    </div>

    <!-- Message Modal -->
    <div id="message-modal" class="modal">
      <div class="modal-content medium">
        <span class="close" onclick="closeMessageModal()">&times;</span>
        <h2 id="message-modal-title">ðŸ’¬ Message Tutor</h2>

        <div id="message-history" class="message-history">
          <!-- Chat bubbles will be added here dynamically -->
        </div>

        <form id="message-form" class="message-form">
          <input
            type="text"
            id="message-input"
            placeholder="Type your message..."
            required
          />
          <input
            type="file"
            id="message-file"
            accept=".pdf,.doc,.docx,.ppt,.pptx,.png,.jpg,.jpeg"
          />
          <button type="submit" class="btn-primary">Send</button>
        </form>
      </div>
    </div>

    <script src="index.js"></script>
  </body>
</html>
