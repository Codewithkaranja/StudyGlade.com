<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tutor Dashboard - StudyGlade</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="tutor.css" />
  </head>
  <body>
    <!-- NAVBAR -->
    <nav class="navbar">
      <div class="nav-brand">StudyGlade - Tutor</div>
      <div class="nav-links">
        <a href="#" class="nav-link active">Dashboard</a>
        <a href="index.html" class="nav-link">Students</a>
        <a href="documents.html" class="nav-link">Documents</a>
        <a href="chat.html" class="nav-link">Chat</a>
        <a href="#" id="logout-btn" class="nav-link">Logout</a>
      </div>
      <div class="hamburger" id="hamburger">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </nav>

    <div class="container">
      <!-- HEADER -->
      <div class="dashboard-header">
        <h1>Welcome, <span id="tutor-name">Tutor</span></h1>
        <p class="header-subtitle">
          Manage student assignments, track progress, and upload solutions.
        </p>
      </div>

      <!-- STATS CARDS -->
      <section class="tutor-summary">
        <h1>üë©‚Äçüè´ Tutor Profile Summary</h1>

        <div class="stats-section">
          <div class="stat-card total">
            <h2>Total Assignments</h2>
            <div class="stat-value" id="total-assignments">
              <i class="fa-solid fa-clipboard-list"></i> 0
            </div>
          </div>

          <div class="stat-card pending">
            <h2>Pending</h2>
            <div class="stat-value" id="pending-assignments">
              <i class="fa-solid fa-hourglass-half fa-spin"></i> 0
            </div>
          </div>

          <div class="stat-card pastdue">
            <h2>Past Due</h2>
            <div class="stat-value" id="past-due-assignments">
              <i class="fa-solid fa-triangle-exclamation"></i> 0
            </div>
          </div>

          <div class="stat-card completed">
            <h2>Completed</h2>
            <div class="stat-value" id="completed-assignments">
              <i class="fa-solid fa-circle-check"></i> 0
            </div>
          </div>

          <div class="stat-card pending-earnings">
            <h2>Pending Earnings</h2>
            <div class="stat-value" id="pending-earnings">
              <i class="fa-solid fa-hand-holding-dollar fa-bounce"></i> $0
            </div>
          </div>

          <div class="stat-card total-earnings" onclick="redirectToPaypoint()">
            <h2>Total Earnings</h2>
            <div class="stat-value" id="total-earnings">
              <i class="fa-solid fa-hand-holding-hand"></i> $0
            </div>
          </div>
        </div>

        <!-- Student Filter -->
        <select id="studentFilter" class="filter-select"></select>
        <div id="tutorQuestions"></div>
      </section>

      <!-- ASSIGNMENTS TABLE -->
      <div class="section-title"><h2>Student Assignments</h2></div>
      <!-- ‚úÖ Search + Filter Section -->
      <div class="table-actions">
        <div class="left-group">
          <select id="student-filter" class="filter-select">
            <option value="all">All Students</option>
          </select>
          <button class="btn btn-secondary">
            <i class="fas fa-filter"></i> Filter
          </button>
        </div>

        <div class="right-group">
          <input
            type="text"
            id="searchAssignments"
            class="search-input"
            placeholder="Search assignments..."
          />
          <button class="btn btn-primary">
            <i class="fas fa-search"></i>
          </button>
        </div>
      </div>

      <!-- ‚úÖ Assignments Table -->
      <div class="assignments-table">
        <table>
          <thead>
            <tr>
              <th>Student</th>
              <th>Title</th>
              <th>Subject</th>
              <th>Topic</th>
              <th>Deadline</th>
              <th>Status</th>
              <th>Amount</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="assignments-list"></tbody>
        </table>
      </div>

      <!-- ‚úÖ Pagination Section -->
      <div class="pagination">
        <button id="prev-page" class="page-btn">Prev</button>
        <span id="page-info">Page 1 of 1</span>
        <button id="next-page" class="page-btn">Next</button>
      </div>

      <!-- ‚úÖ Pagination stays below table 
      <div class="pagination">
        <button id="prev-page" class="page-btn">Prev</button>
        <span id="page-info"></span>
        <button id="next-page" class="page-btn">Next</button>
      </div>-->

      <!-- UPLOAD MODAL -->
      <div id="upload-modal" class="modal">
        <div class="modal-content">
          <span class="close" onclick="hideUploadModal()">&times;</span>
          <h2>Upload Answer</h2>
          <form id="upload-form">
            <div class="form-group">
              <label for="answer-file">Select File</label>
              <input
                type="file"
                id="answer-file"
                accept=".pdf,.doc,.docx,.ppt,.pptx"
                required
              />
            </div>
            <button type="submit" class="btn-primary">Upload</button>
          </form>
        </div>
      </div>
    </div>
    <!-- =========================
üìå Assignment Details Modal
========================= -->
    <div id="assignment-details-modal" class="modal">
      <div class="modal-content details-modal-box">
        <span class="close-details" onclick="closeDetailsModal()">&times;</span>

        <h2 id="details-title">Assignment Title</h2>

        <p><strong>Subject:</strong> <span id="details-subject"></span></p>
        <p><strong>Topic:</strong> <span id="details-topic"></span></p>
        <p><strong>Status:</strong> <span id="details-status"></span></p>
        <p><strong>Deadline:</strong> <span id="details-deadline"></span></p>
        <p><strong>Amount:</strong> $<span id="details-amount"></span></p>

        <p><strong>Question:</strong></p>
        <p id="details-description" class="details-description"></p>

        <div id="details-file-links" class="file-section">
          <em>No files attached</em>
        </div>

        <div class="modal-actions">
          <button class="btn-secondary" onclick="closeDetailsModal()">
            Close
          </button>
        </div>
      </div>
    </div>

    <!-- Messaging Modal -->
    <div id="message-modal" class="modal">
      <div class="modal-content medium">
        <span class="close" onclick="closeMessageModal()">&times;</span>
        <h2>üí¨ Message</h2>

        <div id="message-history" class="message-history">
          <!-- Chat bubbles dynamically added -->
        </div>

        <form id="message-form" class="message-form">
          <input
            type="text"
            id="message-input"
            placeholder="Type your message..."
            required
          />
          <input
            type="file"
            id="message-file"
            accept=".pdf,.doc,.docx,.ppt,.pptx,.png,.jpg,.jpeg"
          />
          <button type="submit" class="btn-primary">Send</button>
        </form>
      </div>
    </div>

    <!-- FOOTER -->
    <footer class="footer">
      <div class="footer-container">
        <div class="footer-brand">StudyGlade - Tutor</div>
        <div class="footer-links">
          <a href="#">About</a>
          <a href="#">Support</a>
          <a href="#">Terms</a>
          <a href="#">Privacy</a>
        </div>
        <p>&copy; 2025 StudyGlade. All rights reserved.</p>
      </div>
    </footer>

    <script src="tutor.js"></script>
  </body>
</html>
