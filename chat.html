<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chat - EduPlatform</title>
    <link rel="stylesheet" href="../css/chat.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <link rel="stylesheet" href="chat.css" />
  </head>
  <body>
    <nav class="navbar">
      <div class="nav-brand">StudyGlade</div>
      <div class="nav-links">
        <a href="index.html" class="nav-link">Dashboard</a>
        <a href="documents.html" class="nav-link">Documents</a>
        <a href="#" class="nav-link active">Chat</a>
        <a href="#" id="logout-btn" class="nav-link">Logout</a>
      </div>
    </nav>

    <div class="chat-container">
      <!-- Sidebar with chat list -->
      <div class="chat-sidebar">
        <div class="sidebar-header">
          <h3>Messages</h3>
          <button class="new-chat-btn" id="new-chat-btn">
            <i class="fas fa-plus"></i> New Chat
          </button>
        </div>

        <div class="chat-list" id="chat-list">
          <!-- Chat items will be loaded here -->
          <div class="loading">Loading chats...</div>
        </div>

        <div class="sidebar-footer">
          <div class="user-info">
            <div class="user-avatar">
              <i class="fas fa-user"></i>
            </div>
            <div class="user-details">
              <span class="username" id="sidebar-username">User</span>
              <span class="user-status">Online</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Main chat area -->
      <div class="chat-main">
        <div class="chat-welcome" id="chat-welcome">
          <div class="welcome-content">
            <i class="fas fa-comments"></i>
            <h2>Welcome to Chat</h2>
            <p>Select a conversation or start a new one to begin messaging.</p>
            <button class="btn-primary" id="start-chat-btn">
              <i class="fas fa-plus"></i> Start New Conversation
            </button>
          </div>
        </div>

        <div class="chat-active" id="chat-active" style="display: none">
          <!-- Chat header -->
          <div class="chat-header">
            <div class="chat-partner-info">
              <div class="partner-avatar">
                <i class="fas fa-user-tie"></i>
              </div>
              <div class="partner-details">
                <span class="partner-name" id="partner-name">Admin</span>
                <span class="partner-status" id="partner-status">Online</span>
              </div>
            </div>
            <div class="chat-actions">
              <button class="action-btn" title="Voice Call">
                <i class="fas fa-phone"></i>
              </button>
              <button class="action-btn" title="Video Call">
                <i class="fas fa-video"></i>
              </button>
              <button class="action-btn" title="More Options">
                <i class="fas fa-ellipsis-v"></i>
              </button>
            </div>
          </div>

          <!-- Messages container -->
          <div class="messages-container" id="messages-container">
            <div class="messages" id="messages">
              <!-- Messages will be loaded here -->
            </div>
          </div>

          <!-- Message input -->
          <div class="message-input-container">
            <div class="message-actions">
              <button class="action-btn" title="Attach File">
                <i class="fas fa-paperclip"></i>
              </button>
              <button class="action-btn" title="Emoji">
                <i class="fas fa-smile"></i>
              </button>
            </div>
            <input
              type="text"
              id="message-input"
              placeholder="Type your message..."
            />
            <button class="send-btn" id="send-btn">
              <i class="fas fa-paper-plane"></i>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- New Chat Modal -->
    <div id="new-chat-modal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="hideNewChatModal()">&times;</span>
        <h2>Start New Conversation</h2>
        <div class="user-list" id="user-list">
          <!-- Users will be loaded here -->
          <div class="loading">Loading users...</div>
        </div>
      </div>
    </div>

    <!--<script src="./socket.io/socket.io.js"></script>-->
    <!--<script src="./middlewares/auth.js"></script>-->
    <!-- FOOTER 
    <footer class="footer">
      <div class="footer-container">
        <div class="footer-brand">StudyGlade - Tutor</div>
        <div class="footer-links">
          <a href="#">About</a>
          <a href="#">Support</a>
          <a href="#">Terms</a>
          <a href="#">Privacy</a>
        </div>
        <p>&copy; 2025 StudyGlade. All rights reserved.</p>
      </div>
    </footer>-->
    <script src="chat.js"></script>
  </body>
</html>
